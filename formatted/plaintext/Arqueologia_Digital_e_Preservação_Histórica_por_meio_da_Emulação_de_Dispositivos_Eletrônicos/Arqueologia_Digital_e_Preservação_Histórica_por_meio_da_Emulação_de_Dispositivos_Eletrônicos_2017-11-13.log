[2017-11-13 01:01:01] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_805513250_38711.jpg
[2017-11-13 01:08:23] wow
[2017-11-13 01:13:26] üòÅ o neg√≥cio era punk. Imagina fazer os sprites da SFA2 assim...
[2017-11-13 01:53:24] SFA2 ?
[2017-11-13 01:53:27] o que √© isso?
[2017-11-13 01:54:41] Street Fighter Alpha 2
[2017-11-13 01:54:45] üòÅ
[2017-11-13 01:55:19] ah
[2017-11-13 01:55:24] eu tenho essa placa
[2017-11-13 01:55:33] Eu sei
[2017-11-13 01:55:47] Li o seu post l√° no fiozera
[2017-11-13 01:56:04] http://mamedev.emulab.it/fsanches/2016/03/07/recovering-a-dead-cps2-board-street-fighter-zero-2-brazil/
[2017-11-13 01:56:04] Falando justamente a respeito de sprites
[2017-11-13 01:56:10] Isso
[2017-11-13 01:56:20] Digo, post no Mamedev
[2017-11-13 01:56:21] Esse √© um post pr√©-fiozera
[2017-11-13 01:56:36] üëç
[2017-11-13 01:57:34] Como vc conseguiu botar a m√£o numa placa dessas?
[2017-11-13 01:57:49] Comprou no ML?? üòÅ
[2017-11-13 01:58:23] n√£o, acharam no lixo numa central de reciclagem de eletr√¥nicos em Brasilia e me deram de presente
[2017-11-13 01:58:45] Pqp...
[2017-11-13 01:58:49] hehe
[2017-11-13 01:59:09] Vou come√ßar a fazer dumpster diving aqui
[2017-11-13 01:59:24] tem realmente muita coisa boa indo pro lixo
[2017-11-13 02:00:24] Ta na hora de voltarmos ao old school hacking e sair invadindo centrais d reciclagem... Oh-oh, alerta d post politicamente incorreto!
[2017-11-13 02:01:03] Os gera√ß√£o mimimi devem sair da sala!
[2017-11-13 02:01:08] üòú
[2017-11-13 02:02:19] hoje eu estava lendo novamente o livro sobre a hist√≥ria do LSD e do PCS.
[2017-11-13 02:02:40] Eu li parte dele ontem
[2017-11-13 02:03:16] E ao ver men√ß√µes aos computadores G-10, G-11 e Cobra 530, lembrei que preciso ir conversar com o professor Stephan Kovacs
[2017-11-13 02:03:53] E lembrei tamb√©m essa semana que vi em algum lugar descri√ß√µes do instruction set do G-10 em algumas das teses relacionadas ao Patinho Feio
[2017-11-13 02:04:38] J√° vi q algu√©m andou pensando em emula√ß√£o d novo...
[2017-11-13 02:05:06] ...
[2017-11-13 02:06:01] na bibliografia da tese "Procedimentos microprogramados num Minicomputador" de Edit Grassiani (1975) tem isso:
[2017-11-13 02:06:12] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804728793_45326.jpg
[2017-11-13 02:07:09] O trabalho arqueol√≥gico tem in√≠cio...
[2017-11-13 02:07:27] Olha que divertidas essas refer√™ncias bibliogr√°ficas:
[2017-11-13 02:07:33] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804722914_69777.jpg
[2017-11-13 02:08:34] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804724350_67683.jpg
[2017-11-13 02:08:51] Gostaria de ler essas obras. Imagina o conte√∫do!
[2017-11-13 02:08:59] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_805512845_37891.jpg
[2017-11-13 02:09:09] Micro programa√ß√£o nos anos 70
[2017-11-13 02:09:41] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804727526_46639.jpg
[2017-11-13 02:10:12] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804726880_46651.jpg
[2017-11-13 02:12:03] Emula√ß√£o direta de estrutiras de controle 
Um ambiente para pesquisa de micro programa√ß√£o e emula√ß√£o
[2017-11-13 02:12:36] Leitura interessante hein?
[2017-11-13 02:13:26] S√£o refer√™ncias antigas, seria poss√≠vel ainda consegu√≠-las?
[2017-11-13 02:13:32] talvez
[2017-11-13 02:13:39] agora a cereja do bolo:
[2017-11-13 02:13:54] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_805514835_39013.jpg
[2017-11-13 02:14:38] T√°. J√° tem o disassembler praticamente prontinho a√≠.
[2017-11-13 02:14:49] üòÅ
[2017-11-13 02:15:07] preciso ir dormir agora
[2017-11-13 02:15:12] MAME here we go... Rss
[2017-11-13 02:15:48] √â n√©? Durma se com um barulho desses agora...
[2017-11-13 02:15:59] se quiser se divertir, tudo isso a√≠ e muito mais est√° nesse PDF: https://archive.org/details/ProcedimentosMicroprogramadosNumMinicomputador
[2017-11-13 02:17:12] Amanh√£ vou abrir isso no desktop.
[2017-11-13 02:17:17] Fui
[2017-11-13 02:28:55] üëç
[2017-11-13 02:32:26] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804728034_46153.jpg
[2017-11-13 02:32:41] Happy Hacking!
[2017-11-13 10:13:42] https://forum.fiozera.com.br/t/arqueologia-digital-resgate-historico-dos-computadores-pioneiros-do-brasil/156
[2017-11-13 10:13:42] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804722660_69046.jpg
[2017-11-13 10:13:42] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_805514748_37279.jpg
[2017-11-13 10:13:42] @fsanches no Roadsec
[2017-11-13 10:18:54] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804723873_67477.jpg
[2017-11-13 12:54:41] @fsanches, qdo vc tiver um tempo livre, seria interessante se vc conseguisse escanear as p√°ginas daquele seu livro da USP onde o G-10 √© citado, para dar um contexto (mais informa√ß√µes, fotos, etc) - pois na web s√≥ achei um breve par√°grafo e uma min√∫scula foto: https://pcs.usp.br/departamento/historia/
[2017-11-13 13:26:09] As refer√™ncias 22 a 24 seriam de extrema utilidade, vou tentar achar caso j√° existam no web archive.
[2017-11-13 13:40:01] Parece que ainda n√£o; s√≥ encontrei duas obras listadas fazendo refer√™ncia a ele: https://archive.org/details/@felipe_correa_da_silva_sanches?and[]=subject%3A"G10"
[2017-11-13 18:16:13] O MAME est√° compilando!! Hurra!! Eita poha agora vai.
[2017-11-13 18:18:13] document: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_38846012097298894.webp
[2017-11-13 18:18:54] Quatro dias rachando a cabe√ßa semana passada e nada dele querer passar da fase "pre-compile emu.h"
[2017-11-13 18:19:17] Hoje comecei do zero - deletei o conte√∫do da pasta c:\MinGW e fiz tudo de novo.
[2017-11-13 18:19:20] rolou de boa.
[2017-11-13 18:19:58] Mas eles arrumaram a p√°gina l√°. T√° com s√≥ um .exe pra baixar e instalar.
[2017-11-13 19:07:56] As ROMs do CP500 fui eu que extra√≠ da placa que tenho em m√£os e cataloguei no MAME.
[2017-11-13 19:08:12] As ROMs desse site a√≠ devem ser dumps que outras pessoas fizeram de outras placas
[2017-11-13 19:08:38] isso significa que talvez seja o caso de cadastrar essas ROMs a√≠ no MAME tamb√©m
[2017-11-13 19:08:51] mas antes de fazer isso, √© bom verificar se n√£o se trata de ROMs gambiarradas
[2017-11-13 19:09:33] por que tem outros emuladores que fazem bobagens como, por exemplo, concatenar m√∫ltiplas ROMs num arquivo s√≥
[2017-11-13 19:09:45] entendi
[2017-11-13 19:09:47] e isso o MAME n√£o faz. O MAME sempre documenta o que de fato h√° no hardware
[2017-11-13 19:10:01] Especialmente em ROMs de arcade
[2017-11-13 19:10:11] se tem 3 chips de EPROM, vai ter 3 arquivos de ROM, por exemplo
[2017-11-13 19:10:21] certo
[2017-11-13 19:10:26] outro problema √© que h√° dumps ruins circulando pela internet
[2017-11-13 19:10:43] por exemplo quando o pessoal faz o dump usando um programa rodando no pr√≥prio dispositivo
[2017-11-13 19:11:24] a√≠ existe o risco de determinados endere√ßos retornarem valores diferentes do que estava de fato na ROM, por conta de interfer√™ncia de dispositivos de hardware mapeados naquele endere√ßo espec√≠fico
[2017-11-13 19:11:27] eu j√° fiz algo assim quando precisei fazer o dump da ROM da minha calculadora
[2017-11-13 19:11:45] Pra rodar em um emulador q eu tinha no PC
[2017-11-13 19:11:48] e o MAME documenta o conte√∫do exato das ROMs, mesmo que esse conte√∫do esteja mascarado em alguns endere√ßos
[2017-11-13 19:12:25] ent√£o o m√©todo preferido para se efetuar um dump √© removendo mesmo o chip de EPROM da placa pra ler o dado real, e n√£o o que est√° vis√≠vel em runtime
[2017-11-13 19:12:49] e tem um coment√°rio desses no c√≥digo fonte do driver do trs80
[2017-11-13 19:13:09] ent√£o parece que h√° um caso desses de hardware interferindo no dump feito por software
[2017-11-13 19:25:42] E a√≠, qual seu pr√≥ximo passo agora que tem o MAME compilado dos fontes ?
[2017-11-13 19:26:01] Pensando em tocar o puteiro no G-10
[2017-11-13 19:26:10] hahaha
[2017-11-13 19:26:11] Pra ver logo se eu tenho isso no sangue ou n√£o
[2017-11-13 19:26:12] boa sorte
[2017-11-13 19:26:26] parece um projeto fascinante
[2017-11-13 19:26:34] e, sinceramente, meio hardcore
[2017-11-13 19:26:37] Vou me basear no trabalho q vc fez no PF e talvez olhar alguma coisa no ITA-II
[2017-11-13 19:26:44] pra entender a estrutura e ir fazendo
[2017-11-13 19:26:46] j√° que √© uma m√°quina program√°vel no n√≠vel de micro-c√≥digo
[2017-11-13 19:27:24] ent√£o me parece que a emula√ß√£o "certa" seria com emula√ß√£o das micro-instru√ß√µes
[2017-11-13 19:27:34] Se eu conseguir vencer essa eu acho q terei conseguido diminuir o gap entre vc e eu no tocante a emula√ß√£o
[2017-11-13 19:27:45] hehe
[2017-11-13 19:27:51] acho demais voc√ä topar esse desafio
[2017-11-13 19:28:01] se enroscar, me avisa
[2017-11-13 19:28:05] Ou vc acha q fazer isso nesse n√≠vel √© demais da conta? Pera, melhor n√£o me falar nada
[2017-11-13 19:28:05] que eu dou uma for√ßa
[2017-11-13 19:28:15] Aquela hist√≥ria do sapo subindo no poste
[2017-11-13 19:28:25] beleza
[2017-11-13 19:28:31] se precisar de ajuda, grita a√™
[2017-11-13 19:28:32] Toca ler a tese da Dr. Edit
[2017-11-13 19:28:41] Pra dar um contexto
[2017-11-13 19:28:43] mas eu acho que vai demorar um pouco at√© voc√ä come√ßar a escrever c√≥digo
[2017-11-13 19:28:50] por que tem uma tese inteira pra ler primeiro hahaha
[2017-11-13 19:28:58] vamos ver...
[2017-11-13 19:29:06] mas esse √© o esp√≠rito!
[2017-11-13 19:29:11] T√¥ gostando de ver :-)
[2017-11-13 19:29:17] tem q come√ßar de algum lugar
[2017-11-13 19:35:36] Tem uma coisa que √© interessante a√≠. O framework do MAME √© desenhado para emula√ß√£o e disasm em n√≠vel de instru√ß√£o. Emular em n√≠vel de micro-instru√ß√£o me parece o caminho mais preciso. Mas tamb√©m me parece tornar muito mais confusa a inspe√ß√£o de c√≥digo no debugger interativo, pois "esconde" o n√≠vel de abstra√ß√£o da camada acima (a camada do c√≥digo assembly) ao mostrar o step-by-step do micro-c√≥digo.
[2017-11-13 19:36:22] Seria muito interessante tentar construir um framwork para emula√ß√£o e debugging de micro-c√≥digo no MAME. De modo que o debugger pudesse ainda preservar a interface de depura√ß√£o passo-a-passo no n√≠vel de instru√ß√µes tamb√©m
[2017-11-13 19:36:35] ter√≠amos ent√£o 2 n√≠veis de abstra√ß√£o para o debugging
[2017-11-13 19:37:03] 2 janelas de debugger distintas, talvez (uma pra debugging em micro-c√≥digo e outra para debugging em n√≠vel de instru√ß√£o)
[2017-11-13 19:37:21] o mais f√°cil agora √© voc√™ simplesmente emular em n√≠vel de micro-c√≥digo
[2017-11-13 19:37:38] mas mais pra frente vai fazer falta poder depurar c√≥digos em n√≠vel de instru√ß√£o tamb√©m
[2017-11-13 19:37:57] Penso em fazer isso por etapas
[2017-11-13 19:38:31] Uma vez vencida a primeira, da√≠ o entendimento ganho possa me dar condi√ß√µes de passarmos pra essa segunda abstra√ß√£o
[2017-11-13 19:40:38] al√©m disso, h√° uma poss√≠vel confus√£o nisso que diz respeito √† mistura de carga de "roms" de microc√≥digo e "roms" de c√≥digo. Supostamente um sistema pode ter dumps de diversas vers√µes de sua mem√≥ria de controle (que √© onde ficam armazenadas as descri√ß√µes da m√°quina escritas em micro-instru√ß√µes). E ent√£o as v√°rias ROMs de boot da m√°quina poderiam ser combinadas com as v√°rias ROMs de micro-c√≥digo. E que eu saiba o MAME n√£o tem uma forma simples de fazer essa troca e combina√ß√£o de multiplos ROMsets em uma s√≥ m√°quina.
[2017-11-13 19:41:57] normalmente o que h√° √© um conjunto de ROMs de diversas vers√µes de BIOS da mesma m√°quina (selecionaveis no menu de usu√°rio) e ent√£o diversos programas que as pessoas podem carregar a partir de m√≠dias como imagens de disquete, imagens de fita cassete, etc
[2017-11-13 19:42:53] ent√£o essa sele√ß√£o de mlutiplas vers√µes de bios existe. Mas n√£o existe forma de ter sele√ß√£o dupla (que seria √∫til para escolher tanto a vers√£o do micro-c√≥digo quanto a vers√£o do boot da bios)
[2017-11-13 19:43:20] faz sentido isso que eu falei?
[2017-11-13 19:45:14] Pelo que eu atualmente entendo a respeito de microc√≥digo, seria c√≥digo escrito em devices do tipo PAL ou FPGA, definindo um hardware com a ajuda de micro instru√ß√µes
[2017-11-13 19:45:51] Se isso estiver correto no que diz respeito ao G-10, penso que j√° vi algo parecido em v√°rios drivers de m√°quinas arcade no MAME
[2017-11-13 19:46:23] arquivos .zip contendo o conte√∫do de PALs junto com ROMs √© normal, eu j√° vi. S√≥ n√£o sei se estamos nos referindo √†s mesmas coisas.
[2017-11-13 19:46:38] Por isso acho que preciso me inteirar melhor lendo a tese da Edit.
[2017-11-13 19:47:12] meu entendimento √© diferente
[2017-11-13 19:47:21] micro-c√≥digo √© quase como um assembly do assembly
[2017-11-13 19:47:34] Acho que boiei
[2017-11-13 19:47:48] √© uma forma de escrever "programinhas" que descrevem o algor√≠tmo de cada uma das instru√ß√µes do assembly de uma CPU
[2017-11-13 19:48:14] √© o c√≥digo q define o algoritmo a ser executado por um opcode, por exemplo?
[2017-11-13 19:48:19] ent√£o vc tem micro-instru√ß√µes que voc√ä usa pra escrever um micro-programa que define o comportamente de uma certa instru√ß√£o
[2017-11-13 19:48:24] isso mesmo
[2017-11-13 19:48:34] √© tipo uma CPU dentro da CPU
[2017-11-13 19:49:05] Se um opcode diz algo como, "LDA, <valor>" s√£o as instru√ß√µes que fazem a CPU carregar o acumulador com esse dado?
[2017-11-13 19:49:15] √© uma forma de programaticamente determinar o sequenciamento de sinais de controle internos da CPU
[2017-11-13 19:49:35] o Patinho Feio n√£o tem micro-c√≥digo
[2017-11-13 19:49:40] Isso √© territ√≥rio ainda inexplorado pra mim
[2017-11-13 19:50:00] O m√°ximo q eu j√° desci, foi para o assembler, com opcodes.
[2017-11-13 19:50:14] por que o sequenciamento de sinais da unidade de controle do Patinho Feio √© feito por meio de fun√ß√µes booleanas implementadas direto em portas l√≥gicas.
[2017-11-13 19:50:29] Por isso que dizemos que √© uma unidade de controle "hardwired"
[2017-11-13 19:50:32] q vc abstraiu
[2017-11-13 19:50:44] isso
[2017-11-13 19:50:58] Podemos dizer q √© o mesmo caso da CPU do zezinho?
[2017-11-13 19:51:05] sim
[2017-11-13 19:51:24] j√° q a UC dele tbm √© feita com portas logicas implementadas a transistor
[2017-11-13 19:51:24] j√° o G-10 tem uma CPU micro-programada
[2017-11-13 19:51:37] isso
[2017-11-13 19:51:48] do zezinho, sim
[2017-11-13 19:52:08] Eu tbm gostaria de entender isso, ser√° q uma daquelas 3 referencias da tese da Edit tem essa informa√ß√£o do hardware do G-10?
[2017-11-13 19:52:14] o G-10 tem uma mem√≥ria de controle onde ficam armazenados os algoritmos de micro-instru√ß√µes
[2017-11-13 19:52:35] Tem o projeto de mestrado do Wilson Ruggiero q eu peguei pra ler tbm
[2017-11-13 19:53:01] Eu n√£o sei dizer ainda, se esse projeto tem algo a ver com o G-10 pra ser totalmente sincero com vc
[2017-11-13 19:53:10] acho que essa tese aqui ajuda tamb√©m: https://archive.org/details/ProjetoDeUmProcessadorMicroprogramado
[2017-11-13 19:53:18] eu peguei j√°
[2017-11-13 19:53:20] ah, isso isso !!!
[2017-11-13 19:53:31] peguei hj mais cedo
[2017-11-13 19:53:48] Isso √© o projeto do G-10?
[2017-11-13 19:53:54] n√£o sei. Mas deve ser
[2017-11-13 19:54:01] Eu tbm n√£o.. kkk
[2017-11-13 19:54:02] √© da mesma √©poca
[2017-11-13 19:54:04] s√≥ pode ser
[2017-11-13 19:54:10] Comecei a ler meio desatento
[2017-11-13 19:54:28] bom... boa leitura a√≠. Eu preciso focar no trampo aqui. Volto mais tarde
[2017-11-13 19:54:41] Blz, depois falamos. Toca o puteiro da√≠ q eu toco a zona daqui
[2017-11-13 19:55:02] :-P
[2017-11-13 19:55:27] n√£o √© exatamente o meu vocabul√°rio predileto, mas acho que peguei o esp√≠rito da coisa hahaha
[2017-11-13 20:17:39] rss
[2017-11-13 20:18:06] Pensa em abstra√ß√£o de micro-c√≥digo
[2017-11-13 20:25:35] Depois me fala se vc j√° chegou a fazer o commit do driver do Sagitta?
[2017-11-13 20:25:45] fiz o pull request
[2017-11-13 20:25:56] mas teve feedback pedindo altera√ß√£o em algumas coisas
[2017-11-13 20:26:02] e eu ainda n√£o fiz as altera√ß√µes
[2017-11-13 20:26:04] ummm
[2017-11-13 20:26:09] o Cuavas t√° esperando eu acertar isso
[2017-11-13 20:26:24] Eu queria compilar, da√≠ fiz um pull do seu remote mas n√£o vi
[2017-11-13 20:26:31] https://github.com/mamedev/mame/pull/2776
[2017-11-13 20:26:50] eu acho que voc√™ pode fazer:
[2017-11-13 20:26:56] git fetch fsanches
[2017-11-13 20:27:07] git checkout fsanches/sagitta180
[2017-11-13 20:27:12] e compilar
[2017-11-13 20:27:33] j√° fiz. o nome do driver √© esse mesmo, sagitta180?
[2017-11-13 20:27:47] sagitta180 √© o nome do driver e tamb√©m √© o nome do branch
[2017-11-13 20:27:51] ok
[2017-11-13 20:28:00] j√° o c√≥digo fonte fica no scopus.cpp
[2017-11-13 20:28:01] ent√£o vou tentar compilar com esse target
[2017-11-13 20:28:18] src/mame/drivers/scopus.cpp
[2017-11-13 20:28:21] aah, acho q foi por isso, eu n√£o vi
[2017-11-13 20:28:30] estava de olho em algo como sagitta
[2017-11-13 20:28:52] t√° l√° sim
[2017-11-13 20:28:56] blz
[2017-11-13 20:28:58] eu optei por fazer um driver inteiro pros terminais da scopus, ent√£o n√£o botei o nome do modelo no arquivo CPP
[2017-11-13 20:29:18] sem problemas, isso foi bom pois eu estou me acostumando com essa estrutura toda
[2017-11-13 20:29:28] mas talvez fa√ßa sentido renomear depois quando o conjunto de emuladores da Scopus for maior e tiver formas melhor de nomear as categorias de m√°quianas emuladas
[2017-11-13 20:29:37] por exemplo, a scopus tem clone de PC-XT
[2017-11-13 20:29:42] üëçüèª
[2017-11-13 20:29:46] vdd
[2017-11-13 20:29:55] ent√£o o XT da Scopus entraria provavelmente nos drivers de XT que o MAME j√° tem
[2017-11-13 20:29:57] s√£o maquinas distintas
[2017-11-13 20:30:03] a n√£o ser que seja MUITO diferente
[2017-11-13 20:30:06] faz sentido
[2017-11-13 20:30:39] (e tem um XT da Scopus l√° no acervo hist√≥rico da USP :-D)
[2017-11-13 20:31:09] Esse hobby √© uma desgra√ßa. Quanto mais a gente avan√ßa, mais a gente afunda
[2017-11-13 20:31:23] tem mais m√°quina do que gente pra emular as m√°quinas...
[2017-11-13 20:31:38] kkk
[2017-11-13 20:31:49] √© coisa de programa√ß√£o.
[2017-11-13 20:31:57] N√£o s√≥ emula√ß√£o
[2017-11-13 20:32:02] estou compilando pro sagitta.
[2017-11-13 20:32:12] s√≥ queria ver ele acender aqui
[2017-11-13 20:32:16] legal
[2017-11-13 20:32:24] podia dar uma investigada no teclado talvez
[2017-11-13 20:32:32] que √© o misterio da vez...
[2017-11-13 20:32:33] certo
[2017-11-13 20:33:03] o mapeamento do teclado do cp500 tbm n√£o foi feito, ou foi?
[2017-11-13 20:33:10] pq eu percebi diferen√ßas nas teclas
[2017-11-13 20:33:35] ou isso √© usado do driver trs80?
[2017-11-13 20:33:41] ah
[2017-11-13 20:33:44] bem observado
[2017-11-13 20:33:52] pode ser que o teclado do cp500 seja mesmo diferente
[2017-11-13 20:33:55] n√£o sei dizer
[2017-11-13 20:34:07] se for, √© necess√°rio mapear as diferen√ßas e declarar no driver
[2017-11-13 20:34:11] pq seria legal (s√≥ n√£o sei se correto), se ele mapeasse as teclas do teclado guest
[2017-11-13 20:34:19] ah t√°, entendi
[2017-11-13 20:34:34] pow, isso seria uma coisa boa pra um padawan fazer, n√£o?
[2017-11-13 20:35:31] e tem uma zica maior no driver do cp500 (ali√°s nos dos trs80 model 3 e derivados em geral) que √© a falta de suporte ao formado de imagem de disco JV3 ou DMK
[2017-11-13 20:35:49] sim, seria
[2017-11-13 20:36:06] s√≥ n√£o sei como voc√™ faria
[2017-11-13 20:36:09] com base em fotos ?
[2017-11-13 20:36:10] nem eu, rss
[2017-11-13 20:36:22] eu diria com base no q est√° agora
[2017-11-13 20:36:32] tipo, eu anotando as teclas q eu pressiono e o q sai na tela
[2017-11-13 20:36:40] da√≠ criando uma esp√©cie de mapa
[2017-11-13 20:36:43] √©... √© um metodo emp√≠rico
[2017-11-13 20:36:51] tem chances de dar certo
[2017-11-13 20:36:56] e finalmente olhando uma foto de um teclado completo e ver se tem td
[2017-11-13 20:37:00] mas n√£o √© garantido que ser√° uma descri√ß√£o fiel do layout
[2017-11-13 20:37:06] uma foto pode ajudar sim
[2017-11-13 20:37:18] da√≠ passando ao remapeamento pra que as teclas f√≠sicas do host reflitam
[2017-11-13 20:37:24] a certeza s√≥ teremos inspecionando as trilhas do teclado talvez
[2017-11-13 20:37:43] mas combinar an√°lise emp√≠rica com uma foto do teclado √© bom o suficiente
[2017-11-13 20:38:03] vou olhar os fontes do driver e localizar onde e como isso est√° sendo feito primeiramente
[2017-11-13 20:38:22] outra coisa legal √© ver as ROMs existentes circulando pela web e categoriza-las
[2017-11-13 20:38:27] (1) lixo
[2017-11-13 20:38:30] (2) bad dump
[2017-11-13 20:38:50] (3) rom de outras vers√µes domesmo hardware do  cp500
[2017-11-13 20:38:54] poutz mas da√≠ seria um trabalh√£o, visitar todos os sites...
[2017-11-13 20:38:59] (4) rom de variantes do hardware do cp500
[2017-11-13 20:39:08] como por exemplo o cp500/M80
[2017-11-13 20:39:17] esse tem l√° naquele site q eu mencionei
[2017-11-13 20:39:21] nunca tinha ouvido falar
[2017-11-13 20:39:26] eu n√£o sei qual √© a diferen√ßa
[2017-11-13 20:39:36] seria legal tentar carregar a ROM dele no MAME e ver o que acontece
[2017-11-13 20:39:49] e pra fazer isso teria q mudar o q no driver?
[2017-11-13 20:40:04] s√≥ deus sabe (eu diria se eu n√£o fosse ateu)
[2017-11-13 20:40:23] pra ele carregar a rom q eu quiser q ele carregue?
[2017-11-13 20:40:29] ah!
[2017-11-13 20:40:31] em um mesmo driver
[2017-11-13 20:40:48] isso √© s√≥ quest√£o de editar os nomes das ROMs l√° no driver
[2017-11-13 20:41:08] e rodar apontando prum diret√≥rio com as roms diferentes
[2017-11-13 20:41:29] talvez editar os tamanhos dos arquivos tamb√©m (se for diferente)
[2017-11-13 20:41:44] curiosidade, teria como fazer uma esp√©cie de op√ß√£o ou submenu, que vc escolhesse a variante baseado na ROM?
[2017-11-13 20:42:14] e, se for algo √∫til de adicionar no MAME, a√≠ vale a pena declarar uma nova se√ß√£o de declara√ß√£o de ROMs com o ROMset alterativo
[2017-11-13 20:42:19] sim
[2017-11-13 20:42:23] tem duas formas
[2017-11-13 20:43:09] se o hardware √© diferente, voc√ä declara um nome diferente de driver, declara como derivado, adiciona as fun√ß√µes com c√≥digo de emula√ß√£o da diferen√ßa do hardware e o resto √© herdado do "driver pai".
[2017-11-13 20:43:39] tipo, o cp500m80 seria um child do cp500...
[2017-11-13 20:43:41] se o hardware for id√™ntico e a √∫nica diferen√ßa for, por exemplo, uma vers√£o diferente da bios, a√≠ d√° pra usar uma macro que declara alternativas de bios
[2017-11-13 20:43:48] isso!
[2017-11-13 20:44:03] lembro vagamente de vc ter me mostrado isso
[2017-11-13 20:44:03] Mas uma outra vers√£o de bootrom pro mesmo equipamento seria declarado diferente
[2017-11-13 20:44:12] veja o exemplo do driver replicator.cpp
[2017-11-13 20:44:16] eu que escrevi
[2017-11-13 20:44:25] deixa eu abrir
[2017-11-13 20:44:30] tem l√° o uso da macro de m√∫ltiplas vers√µes de bootrom para um mesmo hardware
[2017-11-13 20:44:54] ah ta vc corrigiu
[2017-11-13 20:44:55] rsss
[2017-11-13 20:44:59] src/mame/drivers/replicator.cpp
[2017-11-13 20:45:00] perae deixa eu localizar ele
[2017-11-13 20:45:07] √©, ent√£o
[2017-11-13 20:48:50] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804727982_46457.jpg
[2017-11-13 20:49:47] esse replicator √© aquela impressora 3D da makerbot?
[2017-11-13 20:51:17] sim
[2017-11-13 20:51:24] sim
[2017-11-13 20:51:57] (divertido, n√©?)
[2017-11-13 20:52:03] Mas √© um driver pela metade
[2017-11-13 20:52:17] o problema √© que a emula√ß√£o da CPU √© incompleta
[2017-11-13 20:52:29] e o problema √© meio cabeludo de resolver
[2017-11-13 20:52:40] emular os timers do microcontrolador AVR8
[2017-11-13 20:52:41] etc
[2017-11-13 20:52:46] eu tentei
[2017-11-13 20:52:51] e me confundi
[2017-11-13 20:52:55] e larguei pela metade
[2017-11-13 20:53:15] o bicho ficou cabeludo demais?
[2017-11-13 20:53:21] o sagitta emulou aqui
[2017-11-13 20:53:23] o driver boota e mostra texto no display de cristal l√≠quido
[2017-11-13 20:53:31] s√≥ q sem perceber entrada do teclado
[2017-11-13 20:53:32] mas n√£o toca a m√∫sica
[2017-11-13 20:53:57] o input de teclado est√° descrito no driver mas n√£o funciona
[2017-11-13 20:54:12] mas acho que n√£o funciona por conta dos timers e n√£o por estar errado o mapeamento do teclado
[2017-11-13 20:54:26] acho que t√° certa a emula√ß√£o do teclado da impressora 3d (√© um key pad)
[2017-11-13 20:54:42] mas realmente a emula√ß√£o dos timers t√° toda zoada e a√≠ o driver n√£o funciona
[2017-11-13 20:54:45] a quest√£o dos timers vc est√° falando da replicator?
[2017-11-13 20:55:02] por que o firmware usa os timers do avr8 para fazer bitbang no speaker e tocar m√∫sica
[2017-11-13 20:55:12] e tamb√©m para controlar o timing dos stepper motors
[2017-11-13 20:55:17] sim
[2017-11-13 20:55:20] replicator
[2017-11-13 20:55:45] dif√≠cil controlar isso sabendo q cada m√°quina tem um clock diferente
[2017-11-13 20:55:58] se algum dia eu ajustar a quest√£o dos timers, acho que √© um driver legal para experimentar a id√©ia de modelos 3D se movendo em fun√ß√£o de comandos do firmware
[2017-11-13 20:55:58] ou existe algum artif√≠cio no MAME q j√° facilita isso?
[2017-11-13 20:56:34] o MAME tem algumas formas de lidar com timers
[2017-11-13 20:56:35] tem sim
[2017-11-13 20:56:41] eu √© que n√£o manjo muito
[2017-11-13 20:56:46] mas sei que tem jeito de fazer sim
[2017-11-13 20:56:52] √© que eu preciso estudar mais
[2017-11-13 21:45:41] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804728658_46781.jpg
[2017-11-13 21:45:52] N√£o √© sempre. N√£o parece haver um padr√£o.
[2017-11-13 22:29:31] umm... eu acho q j√° tenho um palpite de qual macro eu preciso fazer uma sobrecarga pro CP500...
[2017-11-13 22:31:08] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804728948_46450.jpg
[2017-11-13 22:36:36] yup!
[2017-11-13 22:36:55] ser√° que √© por conta do estado inicial do flipflop ?
[2017-11-13 23:12:31] √©... talvez seja uma possibilidade. Eu vi onde vc declara ele, mas n√£o pesquisei onde ele √© setado.
[2017-11-13 23:18:23] document: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_4924809380781621285.png
[2017-11-13 23:21:48] n√£o.
[2017-11-13 23:21:53] √© um m√©todo
[2017-11-13 23:22:13] procure o nome dele no c√≥digo
[2017-11-13 23:22:17] vc vai achar a implementa√ß√£o
[2017-11-13 23:22:24] to chegando l√°
[2017-11-13 23:22:33] tem 3 ocorr√™ncias de cp500_a11_flipflop_toggle nos fontes
[2017-11-13 23:22:58] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804729481_46801.jpg
[2017-11-13 23:23:07] deve ser no mame\machine
[2017-11-13 23:23:24] n√£o
[2017-11-13 23:23:28] √© no drivers/trs80.cpp
[2017-11-13 23:24:04] no cpp n√£o tem implementa√ß√£o do "cp500_a11_flipflop_toggle"
[2017-11-13 23:24:13] n√£o em mame\drivers
[2017-11-13 23:25:55] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_805513996_39381.jpg
[2017-11-13 23:26:23] duh
[2017-11-13 23:26:26] vc tem raz√£o
[2017-11-13 23:27:35] photo: /home/felipe/devel/github_ArqueologiaDigital/Telegram_logs/media/Arqueologia_Digital_e_Preserva√ß√£o_Hist√≥rica_por_meio_da_Emula√ß√£o_de_Dispositivos_Eletr√¥nicos/download_804724817_67232.jpg
[2017-11-13 23:28:09] pois √©
[2017-11-13 23:28:15] √© isso mesmo
[2017-11-13 23:28:29] pq na linha de baixo ele chama o reset pro trs80m4?
[2017-11-13 23:28:34] ent√£o n√£o sei qual √© o problema
[2017-11-13 23:28:48] pra fazer tudo o que o construtor originalmente fazia
[2017-11-13 23:29:07] n√£o deveria haver alguma coisa igual, s√≥ q passando 'cp500'?
[2017-11-13 23:29:09] como eu sobrecarreguei o construtor, eu preciso chamar o construtor original depois que eu fa√ßo a minha coisinha extra
[2017-11-13 23:29:42] isso q eu pensei. Vc sobrecarregou ele imagino q com uma assinatura diferente no m√©todo?
[2017-11-13 23:29:56] s√≥ pra me assegurar, eu troqueo essa linha pra flipflop=1 e compilei
[2017-11-13 23:30:00] quando rodo d√° tela preta
[2017-11-13 23:30:07] ent√£o acho que o problema √© outro
[2017-11-13 23:30:17] vc rodou mais de uma vez?
[2017-11-13 23:30:23] botei flipflop=1 s√≥ pra tentar induzir o mesmo problema
[2017-11-13 23:30:28] aqui eu rodo mil vezes e sempre funciona
[2017-11-13 23:30:33] tendi
[2017-11-13 23:31:01] vou ficar offline agora
[2017-11-13 23:31:02] eu pensei o seguinte, vc chama o m√©todo do flip flop, e a cada chamada ele reseta o estado dele certo?
[2017-11-13 23:31:03] t√© mais
[2017-11-13 23:31:04] ok
[2017-11-13 23:31:09] blz
[2017-11-13 23:31:12] ah
[2017-11-13 23:31:16] s√≥ uma dica
[2017-11-13 23:31:28] diga
[2017-11-13 23:31:30] o cuavas me disse que esse driver do trs80 t√° uma extrema gambiarra
[2017-11-13 23:31:38] ummm
[2017-11-13 23:32:01] e que algu√©m precisa fazer um refactoring geral. Re-escrever do zero
[2017-11-13 23:32:09] por que tem muita gambiarra
[2017-11-13 23:32:09] uiaiui
[2017-11-13 23:32:15] aiuiai
[2017-11-13 23:32:25] acho que por que ele foi escrito numa √©poca em que o MAME n√£o tinha determinados recursos
[2017-11-13 23:32:34] e hoje em dia d√° pra escrever de forma mais did√°tica
[2017-11-13 23:33:04] enfim... n√£o √© o melhor exemplo de c√≥digo pra aprender emula√ß√£o
[2017-11-13 23:33:12] vou dormir. t√© mais!
[2017-11-13 23:33:17] alguma coisa d√° pra tirar dele. T√© mais
[2017-11-13 23:33:22] E Happy Hacking !!!
[2017-11-13 23:33:25] r√©pi r√©quingui
[2017-11-13 23:33:35] (prepare-se pra ir na USP na 4a feira)
[2017-11-13 23:33:40] opa!
[2017-11-13 23:33:42] 3, 2, 1, fui!
[2017-11-13 23:33:46] int√©
[2017-11-13 23:46:50] Outro brinquedin: https://youtu.be/KAivGLHJzJM
