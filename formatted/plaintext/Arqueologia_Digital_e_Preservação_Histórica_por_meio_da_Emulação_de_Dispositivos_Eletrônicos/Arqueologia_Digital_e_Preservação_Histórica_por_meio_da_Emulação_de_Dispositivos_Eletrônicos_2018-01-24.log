[2018-01-24 01:25:42] Well, entao, sexta da pra mim, mas existe alguma possibilidade de ser sabado? (Se atrapalhar muito, sem problemas, rola sexta memo deboas)
[2018-01-24 01:26:27] eu devo ir no sabado pra gravar um episodio do meu video blog
[2018-01-24 01:26:35] https://www.youtube.com/c/HappyHackingVideoBlog
[2018-01-24 01:26:47] mas a galera toda vai mesmo √© na sexta
[2018-01-24 01:27:22] Hmmm
[2018-01-24 01:27:36] Se eu vazar umas 5:30 da merda?
[2018-01-24 01:28:07] Na sexta isso √©?
[2018-01-24 01:28:59] Duvido que ces precisem muito de mim
[2018-01-24 03:04:18] Eu to brincando aqui com o emulador de xt rodando com as roms que o felipe tirou do nexus 2600, tentando descobrir o que √© que deveria estar na port d550, eu achei interessante que essa √© a quarta coisa que a bios faz, a primeira √© mandar 0 pra A0 que desativa a non mask interrupt, depois ele manda 4 para um chip de DMA (Eu dei uma lida, isso parece desativar o controlador, segundo a datasheet do 8237A, mas eu n tenho tanta certeza), depois manda 28 para o endere√ßo 61, que parece ser algum tipo de configura√ß√£o relacionada a interfaces paralelas, logo depois disso manda 0 para o endere√ßo D550, o que eu n fa√ßo ideia do que √©
[2018-01-24 03:05:20] Basicamente cheguei na mesma coisa que o felipe a alguns dias e fiquei travad√£o a√≠
[2018-01-24 03:05:35] http://philipstorr.id.au/pcbook/book1/post.htm
[2018-01-24 03:13:08] Achei esse link que descreve o processo de post do xt e do pc original, eu esperava encontrar algum ponto de partida pra descobrir o que √© issoae, o ibm pc xt original come√ßa tudo fazendo uma checagem da propria integridade da bios aparentemente, e j√° parte pra inicializar o timer 8253, depois o PIC 8259A, o controlador de DMA, e checa a quantidade de memoria no sistema e nas expans√µes determinadas pelo dip switch que a placa original do pc/xt tinha
[2018-01-24 03:14:37] Sei la, ta tarde, vo dormir
[2018-01-24 08:19:37] o DQ deu a dica aqui semana passada de que talvez a porta D550 pudesse ser a forma como o Nexus seleciona a frequencia do master clock entre 4,77 MHz ou 8 MHz
[2018-01-24 08:20:38] A conversa come√ßou aqui
[2018-01-24 08:21:39] E a parte mais relevante da resposta do DQ come√ßou aqui ^
[2018-01-24 08:34:52] No Technical Reference tem a listagem do BIOS da IBM, d√° para ver o que √© igual.
[2018-01-24 08:44:50] Em 6X o PC tem uma 8255 mas acho que o Nexus n√£o.
[2018-01-24 08:50:12] No Nexus o endere√ßo 60 √© o registrador de dados de uma 8251 que √© usada para comunicar com o teclado. O endere√ßo 61 deve ser um registrador de sa√≠da que simula (em parte) o Port B da 8255 do PC original. Para aplica√ß√µes o que importa s√£o os dois bits menos significativos, que controlam o alto falante. N√£o tenho ideia do que o valor 28 faz (fora desligar o alto falante).
[2018-01-24 08:52:52] Para descobrir o registrador de controle / status da 8251 de comunica√ß√£o com o teclado, procure uma sequ√™ncia de escrita de tr√™s zeros seguido de 40. A 8251 pode acordar em qualquer estado e esta sequ√™ncia a coloca em um modo conhecido.
[2018-01-24 08:54:13] Estou tentando falar com os projetistas do hardware do Nexus e do Lepus (foi a mesma dupla), mas at√© agora n√£o tive sucesso.
[2018-01-24 09:33:51] Adoro esse tipo de conhecimento :-D
[2018-01-24 09:34:04] ah! que legal! Tomara que consiga contact√°-los.
[2018-01-24 09:50:21] isso nao quebra compatibilidade de sw com o padr√£o ibm-pcxt ?!
[2018-01-24 09:59:42] Em parte. Continua obtendo o scancode da tecla quando l√™ no endere√ßo 60 e a interrup√ß√£o de recep√ß√£o de tecla √© a mesma. A coisa complica quando se tenta interagir com o teclado pela porta B da 8255
[2018-01-24 10:00:29] saquei
[2018-01-24 10:01:07] por que raios acharam que seria util botar duas uarts (uma adicional na placa m√£e e outra no teclado) ?!
[2018-01-24 10:01:53] n√£o era mais f√°cil fazer c√≥pia do hw da ibm ?
[2018-01-24 10:07:21] Mais f√°cil n√£o tem gra√ßa!
[2018-01-24 10:07:35] hahaha
[2018-01-24 10:12:34] Existem v√°rios fatores. A Scopus era uma empresa com tradi√ß√£o em comunica√ß√£o de dados (particularmente terminais de v√≠deo). A IBM implementou comunica√ß√£o serial na ra√ßa, usando shift register, quando j√° existiam componentes espec√≠ficos para isto. N√£o estava muito claro naquele tempo o que era ser compat√≠vel. O primeiro caso espec√≠fico de incompatibilidade devido ao teclado foi visto quando algu√©m tentou rodar um sistema operacional diferente, que se metia a ressetar o teclado. Pessoalmente eu acho que no Nexus 2660 a interface do teclado deveria ter sido mudada para o padr√£o da IBM. Mas isto implicaria tamb√©m em mudar o teclado (e ter teclados diferentes para o 1600 e 2600).
[2018-01-24 10:16:00] de fato eu notei que a ROM do teclado usado no 2600 est√° com uma etiqueta "1600"
[2018-01-24 10:16:19] O esp√≠rito dos projetistas era fazer algo melhor. O processador rodando a 8MHz ao inv√©s de 4.77. Permitir acesso pelo processador √† mem√≥ria de v√≠deo no modo texto sem causar interfer√™ncia na apresenta√ß√£o (o que dava um ganho significativo em compara√ß√£o a esperar o retra√ßo e evitava a piscada quando rolava a tela). Suportar HD (o projeto come√ßou antes da IBM lan√ßar o XT).
[2018-01-24 10:17:29] ent√£o o projeto come√ßou baseado no 5150 ?
[2018-01-24 10:20:34] Infelizmente, faltava um pouco de experi√™ncia para os projetistas e n√£o se tinha muita ideia de como este mercado ia evoluir. A principal orienta√ß√£o que n√≥s recebemos do Marketing era que tinha que suportar disquetes de 8" pois nenhuma empresa ia levar a s√©rio os de 5 1/4"... Felizmente eles aceitaram os drives de 8" ficarem em um gabinete externo. Que eu saiba nunca foi vendido ou mesmo fabricado.
[2018-01-24 10:21:17] chegou a ter prot√≥tipo dos drives de 8 polegadas?
[2018-01-24 10:21:52] algu√©m tem isso guardado em algum por√£o?
[2018-01-24 10:21:53] Sim, e o software foi escrito. Talvez ainda esteja na ROM.
[2018-01-24 10:22:29] Duvido que ainda exista.
[2018-01-24 10:22:40] (o hardware)
[2018-01-24 10:22:46] @fsanches eu moro meio longe... üòû
[2018-01-24 10:22:57] Zoropa ?
[2018-01-24 10:23:26] Murica ?
[2018-01-24 12:57:03] Ahhh, maneiro, entao isso significa que o endereco D550 deveria aparecer em algum lugar na rom do teclado tbem?
[2018-01-24 12:58:15] Ou tudo isso √© feito na cpu, que intercepta (tipo o ctrl alt del), e a√≠ ele escreveria pra essa porta?
[2018-01-24 12:59:37] E o que teria nessa porta que controlaria o clock? Como que isso funciona?
[2018-01-24 13:14:17] O teclado n√£o √© envolvido nesta mudan√ßa de clock. Toda vez que uma tecla √© pressionada ou solta, ele envia um c√≥digo para a CPU. Este c√≥digo indica no bit mais significativo se a tecla foi solta ou apertada e nos demais bits qual a tecla (o chamado "scancode"). Quando o c√≥digo chega, uma interrup√ß√£o √© gerada (8 se lembro corretamente). Inicialmente esta interrup√ß√£o √© tratada pelo BIOS (mas pode ser interceptada pelo SO ou aplica√ß√µes, o que confunde um pouco). O BIOS mantem o estado das teclas "modificadoras" (shift, control, alt, caps, num lock e scroll lock). Acho que coloquei aqui o trecho do BIOS da IBM que trata Ctrl Alt Del: ele detecta quando solta o Del com Ctrl e Alt apertados. Eu acho que a mudan√ßa de velocidade √© algo como Ctrl Alt + e Ctrl Alt - (+  e - do bloco num√©rico), mas posso estar enganado.
[2018-01-24 13:17:49] Do ponto de vista de hardware, basicamente a porta controla um MUX entre os dois sinais de clock (4.77 e 8MHz). A implementa√ß√£o deve ser um pouco complicada, pois os clocks n√£o s√£o sincronizados e precisa tomar o cuidado de n√£o gerar acidentalmente um clock mais curto.
[2018-01-24 13:20:10] Uma busca por "clock mux circuit" achou isto aqui: http://vlsiuniverse.blogspot.com.br/2017/03/clock-multiplexer.html
[2018-01-24 13:22:02] Muito obrigado pela explica√ßao
[2018-01-24 13:22:38] √†s ordens
[2018-01-24 13:25:25] Antes de sair pra poli, eu tava vendo quantas vezes, e que valores a bios manda pra essa porta a√≠.
[2018-01-24 13:26:13] Se eu n me engano( foi a uns 20 minutos mas minha memoria √© horrivel), ele escreve pra essa porta umas 5 ou 6 vezes
[2018-01-24 13:26:32] E sempre 0, 1, 5 e 6
[2018-01-24 13:26:34] Algo do tipo
[2018-01-24 13:26:42] Chegando la eu vejo denovo e confirmo
[2018-01-24 13:27:28] Bate com o esperado de um switcher de clock desse tipo?
[2018-01-24 13:29:16] No comecinho da bios isso √©, n chequei ela inteirassa
[2018-01-24 20:31:51] Sobre arqueologia digital, eu vou fazer mais algumas. https://teespring.com/anachronistic-geek-micronet800#pid=389&cid=100019&sid=front
[2018-01-24 20:57:34] https://en.wikipedia.org/wiki/Micronet_800
[2018-01-24 21:01:18] "telesoftware", seja l√° o que for...
